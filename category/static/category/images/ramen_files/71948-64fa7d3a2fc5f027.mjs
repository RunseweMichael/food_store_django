(self.modernJsonp=self.modernJsonp||[]).push([["71948"],{825730:function(e,t,r){var o=r(158612),n=r(901768),a=r(68928);e.exports=r(259770)||o.call(a,n)},901768:function(e){e.exports=Function.prototype.apply},68928:function(e){e.exports=Function.prototype.call},140319:function(e,t,r){var o=r(158612),n=r(714453),a=r(68928),i=r(825730);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new n("a function is required");return i(o,a,e)}},259770:function(e){e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},717379:function(e,t,r){var o=r(340210),n=r(140319),a=n([o("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=o(e,!!t);return"function"==typeof r&&a(e,".prototype.")>-1?n([r]):r}},96504:function(e,t,r){var o,n=r(140319),a=r(27296);try{o=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var i=!!o&&a&&a(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=i&&"function"==typeof i.get?n([i.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},24429:function(e){var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},153981:function(e){e.exports=EvalError},181648:function(e){e.exports=Error},924726:function(e){e.exports=RangeError},526712:function(e){e.exports=ReferenceError},533464:function(e){e.exports=SyntaxError},714453:function(e){e.exports=TypeError},343915:function(e){e.exports=URIError},268892:function(e){e.exports=Object},417648:function(e){var t=Object.prototype.toString,r=Math.max,o=function(e,t){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r},n=function(e,t){for(var r=[],o=t||0,n=0;o<e.length;o+=1,n+=1)r[n]=e[o];return r},a=function(e,t){for(var r="",o=0;o<e.length;o+=1)r+=e[o],o+1<e.length&&(r+=t);return r};e.exports=function(e){var i,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var l=n(arguments,1),p=r(0,s.length-l.length),c=[],u=0;u<p;u++)c[u]="$"+u;if(i=Function("binder","return function ("+a(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var t=s.apply(this,o(l,arguments));return Object(t)===t?t:this}return s.apply(e,o(l,arguments))}),s.prototype){var d=function(){};d.prototype=s.prototype,i.prototype=new d,d.prototype=null}return i}},158612:function(e,t,r){var o=r(417648);e.exports=Function.prototype.bind||o},340210:function(e,t,r){var o,n=r(268892),a=r(181648),i=r(153981),s=r(924726),l=r(526712),p=r(533464),c=r(714453),u=r(343915),d=r(559738),y=r(876329),f=r(252264),g=r(155730),m=r(620707),A=r(763862),b=r(529550),h=Function,_=function(e){try{return h('"use strict"; return ('+e+").constructor;")()}catch(e){}},E=r(27296),S=r(24429),v=function(){throw new c},w=E?function(){try{return arguments.callee,v}catch(e){try{return E(arguments,"callee").get}catch(e){return v}}}():v,P=r(483085)(),I=r(481618),O=r(68899),R=r(410443),T=r(901768),x=r(68928),C={},N="undefined"!=typeof Uint8Array&&I?I(Uint8Array):o,M={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":P&&I?I([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?o:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":i,"%Float16Array%":"undefined"==typeof Float16Array?o:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":C,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&I?I(I([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&P&&I?I(new Map()[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":n,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&P&&I?I(new Set()[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&I?I(""[Symbol.iterator]()):o,"%Symbol%":P?Symbol:o,"%SyntaxError%":p,"%ThrowTypeError%":w,"%TypedArray%":N,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":T,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":O,"%Math.abs%":d,"%Math.floor%":y,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":A,"%Math.sign%":b,"%Reflect.getPrototypeOf%":R};if(I)try{null.error}catch(e){var L=I(I(e));M["%Error.prototype%"]=L}var F=function e(t){var r;if("%AsyncFunction%"===t)r=_("async function () {}");else if("%GeneratorFunction%"===t)r=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=_("async function* () {}");else if("%AsyncGenerator%"===t){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&I&&(r=I(n.prototype))}return M[t]=r,r},B={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=r(158612),k=r(148824),D=U.call(x,Array.prototype.concat),Z=U.call(T,Array.prototype.splice),j=U.call(x,String.prototype.replace),H=U.call(x,String.prototype.slice),G=U.call(x,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,V=function(e){var t=H(e,0,1),r=H(e,-1);if("%"===t&&"%"!==r)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new p("invalid intrinsic syntax, expected opening `%`");var o=[];return j(e,$,function(e,t,r,n){o[o.length]=r?j(n,z,"$1"):t||e}),o},W=function(e,t){var r,o=e;if(k(B,o)&&(o="%"+(r=B[o])[0]+"%"),k(M,o)){var n=M[o];if(n===C&&(n=F(o)),void 0===n&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:n}}throw new p("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,e))throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=V(e),o=r.length>0?r[0]:"",n=W("%"+o+"%",t),a=n.name,i=n.value,s=!1,l=n.alias;l&&(o=l[0],Z(r,D([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var y=r[u],f=H(y,0,1),g=H(y,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new p("property names with quotes must have matching quotes");if("constructor"!==y&&d||(s=!0),o+="."+y,k(M,a="%"+o+"%"))i=M[a];else if(null!=i){if(!(y in i)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(E&&u+1>=r.length){var m=E(i,y);i=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:i[y]}else d=k(i,y),i=i[y];d&&!s&&(M[a]=i)}}return i}},483085:function(e,t,r){var o="undefined"!=typeof Symbol&&Symbol,n=r(324429);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"==typeof o("foo")&&"symbol"==typeof Symbol("bar")&&n()}},324429:function(e){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var o in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},68899:function(e,t,r){e.exports=r(268892).getPrototypeOf||null},410443:function(e){e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},481618:function(e,t,r){var o=r(410443),n=r(68899),a=r(96504);e.exports=o?function(e){return o(e)}:n?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return n(e)}:a?function(e){return a(e)}:null},40690:function(e){e.exports=Object.getOwnPropertyDescriptor},27296:function(e,t,r){var o=r(40690);if(o)try{o([],"length")}catch(e){o=null}e.exports=o},148824:function(e,t,r){var o=Function.prototype.call,n=Object.prototype.hasOwnProperty;e.exports=r(158612).call(o,n)},559738:function(e){e.exports=Math.abs},876329:function(e){e.exports=Math.floor},543678:function(e){e.exports=Number.isNaN||function(e){return e!=e}},252264:function(e){e.exports=Math.max},155730:function(e){e.exports=Math.min},620707:function(e){e.exports=Math.pow},763862:function(e){e.exports=Math.round},529550:function(e,t,r){var o=r(543678);e.exports=function(e){return o(e)||0===e?e:e<0?-1:1}},937805:function(e,t,r){r.d(t,{Z:()=>i});var o=r(675973),n=r(15667),a=r(647709);function i(){let{isAuthenticated:e}=(0,n.B)(),t=(0,a.ml)(),{checkExperiment:r}=(0,o.Z)();return{mWebCloseupRedesignEnabled:e&&t&&r("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:r("mweb_closeup_redesign").group}}},351222:function(e,t,r){r.d(t,{Pw:()=>o,SB:()=>n,ZP:()=>i,x9:()=>a});let o=80,n=55,a=e=>"phone"===e?n:o;function i(e,t){return t?0:a(e)}},473304:function(e,t,r){r.d(t,{Z:()=>f});var o=r(281098),n=r(667294),a=r(20256),i=r(937805),s=r(667835),l=r(461951),p=r(816358),c=r(516114),u=r(15667),d=r(883379),y=r(785893);function f({children:e,footerConfig:t,headerConfig:r,height:f,hideOnScroll:g,hideOnScrollState:{isHidden:m,updateHiddenState:A},isFooterHidden:b,noPadding:h,paddingX:_,paddingY:E=c.og,type:S,zIndex:v,isStoryPin:w}){let P,I;(0,n.useEffect)(()=>{(0,o.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:O,ignoreObstructions:R,zIndexForGestaltBug:T}=r||{},{appUpsellFooterConfig:x,footerInLego:C,navFooterConfig:N}=t||{},M=!!x,L="header"===S?"top":"bottom",F=(0,s.vs)(),{isRTL:B}=(0,u.B)(),{mWebCloseupRedesignEnabled:U}=(0,i.Z)(),k=(0,n.useRef)(null),D=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!R){let e=k.current;D.current=O&&e&&Array.isArray(e.children)?e.children[0]:e,D.current instanceof HTMLElement&&p.Z.addObstruction(L,D.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!R&&D.current instanceof HTMLElement&&p.Z.removeObstruction(L,D.current)}},[R,O,L,F]);let Z="top"===L?"relative":"fixed",j=h?0:E,H=(f??c.R$)+(r?.overrideTop||0),G=g||N?{transition:C||U?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||b?{transform:`translateY(${"top"===L?-H:H}px)`,opacity:C||U?0:1}:Object.freeze({})}:{},$=2*!("relative"!==Z||r?.noGutter),z=$?-$:0,V=F?s.k7:"rgba(255,255,255,.95)";F&&("header"===S?P=-1:I=-1);let W=C?M?void 0:f??c.R$:"100%",J=C?c.KJ:void 0,q=r?.isTranslucent&&V||F?V:l.Wmm,Y=r?.isTransparentBackground&&l.Wyp?l.Wyp:q,K=(0,n.useMemo)(()=>({height:"footer"===S&&U?`calc(${W} + env(safe-area-inset-bottom))`:W,...U&&"footer"===S?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(j||0)}px)`}:Object.freeze({})}),[U,W,S,j]),X=(0,d.Z)({skipExpActivation:!0});return(0,y.jsx)(a.xu,{ref:k,bottom:"footer"===S,dangerouslySetInlineStyle:{__style:{top:P,bottomStyle:I,...!v||T?{zIndex:T||1}:Object.freeze({}),...O?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...G}},"data-test-id":S,display:M?"flex":void 0,height:f&&!C?f:void 0,left:!0,marginEnd:C?"auto":z,marginStart:C?"auto":z,onTransitionEnd:()=>{(g||N)&&D.current&&(m||b?p.Z.removeObstruction(L,D.current):p.Z.addObstruction(L,D.current))},position:Z,right:!0,top:"header"===S,width:C||"fixed"!==Z?void 0:"100%",zIndex:T?void 0:v,children:(0,y.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:Y,paddingLeft:B||!X||w?void 0:"8px",paddingRight:B&&X&&!w?"8px":void 0,...K,boxShadow:U&&"footer"===S?`0 10px 0 0 ${Y}, ${c.KJ}`:J,marginBottom:C&&!N?.docked?16:void 0,...O?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:C||t?.alignCenter?"flex":void 0,marginEnd:C?"auto":void 0,marginStart:C?"auto":void 0,paddingX:_||4*("footer"===S&&!h)+$,paddingY:j,position:"relative",rounding:C&&!N?.docked?"pill":void 0,width:N?N.footerWidth:M?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:A}):e})})}},588367:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var o=r(281098),n=r(667294),a=r(20256),i=r(516114),s=r(473304),l=r(211887),p=r(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:c,isTransparentBackground:u,noGutter:d,overrideTop:y,useRoundedCorners:f,zIndexForGestaltBug:g,isStoryPin:m,...A}){(0,n.useEffect)(()=>{(0,o.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:b,paddingY:h=i.og,zIndex:_}=A;return(0,p.jsx)(a.Le,{height:t?i.LV+2*(b?0:h)*4:void 0,top:y||0,zIndex:_||void 0,children:(0,p.jsx)(l.Z,{hideOnScroll:A.hideOnScroll,children:o=>(0,p.jsx)(s.Z,{...A,headerConfig:{isTranslucent:c,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:d,overrideTop:y,zIndexForGestaltBug:g,useRoundedCorners:f},hideOnScrollState:o,isStoryPin:m,type:"header"})})})}},211887:function(e,t,r){r.d(t,{Z:()=>i});var o=r(667294),n=r(159527);function a(e,t,r){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class i extends o.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,n.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,o=window.scrollY,n=o-this.lastScrollPos,a="none",{scrollHeight:i,clientHeight:s}=document.documentElement||{};Number.isNaN(i)||Number.isNaN(s)||(a=n<0?o<=Math.abs((window.scrollMinY||0)+Math.max(n,20))?"start":"none":o>=(window.scrollMaxY||i-s)-Math.max(n,20)?"end":"none");let l=55*!t?.isModal;e?n>20&&r&&o>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20&&!r||o<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!r||o<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(o>l||"end"===a)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20||"start"===a)&&r||o<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(n>20||"end"===a)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=o},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},55543:function(e,t,r){r.d(t,{Z:()=>n});var o=r(603316);function n(e,t){return new Promise((r,n)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,(0,o.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)r();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,(0,o.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else r()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>r()),t.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(t)}})}},453179:function(e,t,r){r.d(t,{Mt:()=>_,NK:()=>m,P6:()=>a,UE:()=>S,ZE:()=>f,Zt:()=>g,_J:()=>p,_S:()=>A,cL:()=>d,iR:()=>b,jL:()=>l,oN:()=>n,oU:()=>E,rM:()=>y,sV:()=>c,sY:()=>u,yp:()=>i});var o=r(239728);let n=5e3,a=5e3/o.gJ,i="Pin page",s=["Uploaded by user"],l=(e,t)=>!!t&&!e,p=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,d=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!u(r)&&"pinstory"!==t,y=({link:e,mobileLink:t,trackedLink:r,utmLink:o})=>!t&&!o&&!r&&!e,f=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:r,trackedLink:o,utmLink:n})=>t||n||o||e||r||"",m=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function A(e){for(let t of s)if(e===t)return!1;return!0}function b(e){if(!e)return!1;let{id:t,videos:r}=e;if(t&&r?.id&&r.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:o}=r.video_list;if(e&&h(e)||t&&h(t)||o&&h(o))return!0}let o=e.story_pin_data?.pages?.[0]?.blocks;if(o){for(let e of o)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function h(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function _(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function E({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!_(t)}let S=e=>"button"in e&&1===e.button},622481:function(e,t,r){r.d(t,{Z:()=>o});let o=(0,r(667294).createContext)(null)},282803:function(e,t,r){r.d(t,{Z:()=>o});let o=(0,r(667294).createContext)(null)},255957:function(e,t,r){r.d(t,{Z:()=>N});var o=r(281098),n=r(667294),a=r(286036),i=r(457636),s=r(592109),l=r(901360),p=r(392824),c=r(67831),u=r(703393),d=r(735201),y=r(868178),f=r(891631),g=r(594885),m=r(579358),A=r(970773),b=r(361423),h=r(15667),_=r(112114),E=r(603316),S=r(785893);let v=["initial_app_load","client_route_push"],w=(0,s.XV)("PwtSurface"),P="NavigationComplete",I="VisuallyComplete",O=()=>{(0,d._T)()},R=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let r=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:o,pwtStaticContext:n,annotateExperiments:a},annotations:s,binaryAnnotations:c,constraintMap:y,startTime:f,imageTimings:g,spans:A,traceId:b}=e;(0,p.L8)(`Report_PWT_Complete_${(0,i.KJ)(o)}`,f,r);let h=(0,u.W)({annotateExperiments:[...a??[]],annotations:s,binaryAnnotations:c,constraintMap:y,endTime:r,imageTimings:g,metricId:o,pwtStaticContext:n,startTime:f,traceId:b,spans:A});try{var t=String(h.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let r=t.name.replace(".jpg","").split("/");return{[r[r.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let r=t.src.replace(".jpg","").split("/"),o=r[r.length-1];if(e[o]){let r=(0,m.rZ)(t)?.width||1,n=e[o].downloadSize;return{fileName:o,renderedSize:r,downloadedSize:n,ratio:n/r}}return{fileName:o,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let r=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),o=r[r.length-1];if(e[o]&&t instanceof HTMLDivElement){let r=(0,m.rZ)(t)?.width||1,n=e[o].downloadSize;return{fileName:o,renderedSize:r,downloadedSize:n,ratio:n/r}}return{fileName:o,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:r,fileName:o,downloadedSize:n}=e;e.ratio>1.05&&(0,l.A9)(`checkImageRatio.${t}`,{count:Math.round(10*r)/10,tags:{fileName:`${n}_${o}`}})})}catch(e){(0,l.H)("image_ratio_check_error",{error:e})}return(0,d._T)(),{...e,result:h,status:"DONE"}}return w(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},T=(e,t)=>{let{constraint:r,time:o}=t,n=(0,i.KJ)(e.metricConfig.metricId);return b.Z?e.metricConfig.constraints.find(e=>e===r)?e.constraintMap[r]?(w(`constraint "${r}" is already complete.`),(0,l.H)("duplicated_constraint_complete",{constraint:r,action:n}),e):(w(`marking constraint "${r}" as complete ${o||performance.now()}`),o?(0,p.ZP)(`constraint_${r}_is_complete`,o):(0,p.ZP)(`constraint_${r}_is_complete`),R({...e,constraintMap:{...e.constraintMap,[r]:o||b.Z.now()}})):(w(`marked constraint "${r}" is not a required constraint.`),e):((0,l.H)("missing_window_performance",{action:n}),e)},x=(e,t)=>{if(w("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:r,startTime:o,isSampled:n,disablePWTLogging:a}=t;if(a||"TIMING"!==e.status||o===e.startTime||O(),!r)return{status:"DISABLED",metricConfig:null};let s=(0,i.KJ)(r.metricId);if("TIMING"===e.status&&e.startTime===o&&e.constraintMap[P])return(0,l.H)("duplicated_init_route_action",{action:s}),e;if(!a){let e=(0,_.H)();(0,l.A9)(`handler.${s}`,{tags:{handler:e}});let t=void 0!==r.metricId.isAuthenticated&&{tags:{isAuth:r.metricId.isAuthenticated}}||void 0;"Other"===r.pwtStaticContext.browserName&&!1===r.metricId.isAuthenticated&&"initial_app_load"===r.metricId.navigationType?((0,l.A9)(`TIMING.${s}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,l.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,l.A9)(`TIMING.${s}`),(0,l.A9)(`TIMING.sampled.${s}`,{sampleRate:.03})),(0,y.C)({resultLog:`TIMING.${s}`,annotateExperiments:r.annotateExperiments||[],getExperimentGroup:r.pwtStaticContext.getExperimentGroup,options:t})}return T({traceId:(0,d.vc)()||(0,d.ZP)("initial_app_load"===r.metricId.navigationType,r.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:r,startTime:o,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:n,spans:[]},{constraint:P,disablePWTLogging:a})})(e,t.payload);if("TIMING"!==e.status)return w(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":O();let r={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:r};case"ANNOTATE":let{name:o}=t.payload;if(!b.Z)return e;let n=b.Z.now();return w(`adding annotation {${o}: ${n}}`),{...e,annotations:{...e.annotations,...{[o]:n}}};case"BINARY_ANNOTATE":let{name:a,value:s,annotationType:p}=t.payload;return w(`adding binary annotation {${a}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[a]:{value:s,type:p}}}};case"MARK_CONSTRAINT_COMPLETE":return T(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!b.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}w(`removing constraint "${t}"`);let r=e.metricConfig.constraints.filter(e=>e!==t),{[t]:o,...n}=e.constraintMap;return R({...e,constraintMap:n,metricConfig:{...e.metricConfig,constraints:r}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!b.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}w(`updating pwt segment to "${c}"`);let u={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:u}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:r}}=t;if(0===r.length)return O(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let o=Math.max(...r.map(e=>e.responseEnd||0));return T({...e,imageTimings:r},{constraint:I,time:o})}case"ADD_SUBSPAN":let{startTime:f}=e,{payload:{name:g,startTime:m,endTime:h,annotations:E,binaryAnnotations:S,parentId:v}}=t;return{...e,spans:[...e.spans,{name:g,id:(0,A.Z)(),startTime:m||f,endTime:h,annotationMap:{...E},binaryAnnotationMap:{...S},parentId:v}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,A.Z)(),startTime:b.Z?b.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let x=e.spans.findIndex(e=>e.name===t.payload.name);return x>-1?(e.spans[x].endTime=b.Z?b.Z.now():0,t.payload.annotations&&(e.spans[x].annotationMap={...e.spans[x].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[x].binaryAnnotationMap={...e.spans[x].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let C=(0,i.KJ)(e.metricConfig.metricId);return(0,l.H)("invalid_pwt_surface_action",{action:C}),e}},C=new Set;function N({children:e,...t}){(0,n.useEffect)(()=>{(0,o.Z)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let r=(0,f.Z)(),s=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(r),p=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],u=[...t.annotateExperiments??[],...p],{context:d}=(({surface:e,constraints:t,segment:r,measureGridVisuallyComplete:o,annotateExperiments:i,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:p},sampleRate:c})=>{let u=(0,n.useRef)("NOT_SET"),d=(0,g.Z)(),{getState:y,dispatch:f}=((e,t)=>{let r=(0,n.useRef)(t);return{getState:()=>r.current,dispatch:t=>{r.current=e(r.current,t)}}})(x,{status:"DISABLED",metricConfig:null}),m=(0,h.B)();if(u.current!==l&&(u.current=l,d)){let{isAuthenticated:n}=d,a=e&&p&&(s||v).includes(p)?{metricId:{type:"surface",surface:e,navigationType:p,isAuthenticated:n,segment:r},annotateExperiments:i,constraints:[P,...t||[],...o?[I]:[]],pwtStaticContext:d}:null;(0,E.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:p,isAuthenticated:n}});let u=!C.has(l);f({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&C.add(l)}let A=y();if((0,n.useEffect)(()=>()=>{C.delete(l)},[l]),(0,n.useEffect)(()=>{let e=e=>{f({type:"ABORT",reason:e})};a.Z.onSessionPause(e);let t=window.innerHeight,r=window.innerWidth,o=()=>{let e=Math.abs(window.innerHeight-t),n=Math.abs(window.innerWidth-r),a=window.innerHeight!==t,i=window.innerWidth!==r,s={handler:(0,_.H)(),deviceType:d?.deviceType??"unknown",isAuthenticated:d?.isAuthenticated??"unknown",platform:m.userAgent.platform??"unknown"};if((0,E.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:a,widthChanged:i}}),a&&(0,E.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),i&&(0,E.S0)("webapp.PwtLogger.resizeWidthDelta",n,{sampleRate:1,tags:s}),window.removeEventListener("resize",o),d?.deviceType==="phone"&&(!i&&a&&e<=150||!a&&!i)||d?.deviceType==="desktop"&&!a&&!i)return void(0,E.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:a,widthChanged:i}});f({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",o),()=>{let t=y();w("handling unmount",t),"TIMING"===t.status&&O(),a.Z.removePauseListener(e),window.removeEventListener("resize",o)}},[]),"TIMING"!==A.status||!A.constraintMap[P])return{state:A,context:null};let{startTime:S,metricConfig:R}=A;return{state:A,context:{abort:e=>f({type:"ABORT",reason:e}),addAnnotation:e=>f({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,r)=>f({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:r}}),addSubspan:(e,t,r,o={},n={},a=null)=>f({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:r,annotations:o,binaryAnnotations:n,parentId:a}}),getId:()=>S,getMetricId:()=>R.metricId,markConstraintComplete:e=>f({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:b.Z?b.Z.now():0}}),removeConstraint:e=>f({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>f({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:R.constraints.includes(I)?e=>f({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},r={},o=null)=>f({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:r,parentId:o}}),stopSubspan:(e,t={},r={},o=null)=>f({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:r,parentId:o}})}}})({...t,annotateExperiments:u,navigationInfo:{navigationType:s,clientNavigation:r}}),y=(0,c.A)(),m=!!y;return(0,n.useEffect)(()=>{if(m){let e=y?.getMetricId(),t=e?(0,i.KJ)(e):null;(0,l.H)("nested_pwt_surface",{action:t})}},[m]),(0,S.jsx)(c.S,{value:d,children:e})}},67831:function(e,t,r){r.d(t,{A:()=>n,S:()=>o});let{Provider:o,getMaybe:n}=(0,r(729434).Z)("pwtSurfaceContext")},324307:function(e,t,r){r.d(t,{ZP:()=>n,mP:()=>o});let o="…";function n(e,t=80,r=o,a=!1){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||a)i=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);i=e.substring(0,r)}return(i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},576087:function(e,t,r){r.d(t,{Z:()=>n});var o=r(869273);let n=({url:e})=>{let t=(0,o.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},239728:function(e,t,r){r.d(t,{$f:()=>n,Cy:()=>l,DR:()=>o,Fm:()=>s,bR:()=>i,gJ:()=>a,lG:()=>p});let o=1,n=2,a=1e3,i=1e3,s=1e3,l=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),p=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},757319:function(e,t,r){r.d(t,{A6:()=>i,A9:()=>O,AJ:()=>E,B3:()=>b,BO:()=>B,Eb:()=>q,Eq:()=>U,F$:()=>n,GF:()=>Y,G_:()=>F,H:()=>ec,HJ:()=>A,Ht:()=>T,Hv:()=>u,Io:()=>m,Iu:()=>V,Iv:()=>eu,Ix:()=>ee,KW:()=>er,LN:()=>x,LZ:()=>C,Mj:()=>p,Mr:()=>s,NM:()=>o,Nf:()=>_,Pc:()=>Q,RX:()=>f,TL:()=>P,Tw:()=>H,Uf:()=>g,VI:()=>ea,XY:()=>h,ZA:()=>en,ZH:()=>Z,Zg:()=>$,_7:()=>v,bH:()=>k,bn:()=>D,c:()=>c,dt:()=>M,eE:()=>l,eZ:()=>j,g:()=>W,gN:()=>ei,he:()=>R,iE:()=>w,iQ:()=>G,jP:()=>J,kG:()=>S,kR:()=>d,kS:()=>eo,kr:()=>N,lT:()=>es,nM:()=>L,oq:()=>y,oz:()=>z,qt:()=>X,rl:()=>et,s5:()=>K,sC:()=>I,wt:()=>ep,xA:()=>a,y6:()=>el});let o="/product-catalogs/",n="/business/catalogs/",a="/business/catalogs/overview/",i="/business/catalogs/data-sources/",s="/business/catalogs/product-groups/",l="/business/catalogs/diagnostics/",p="/business/catalogs/diagnosticsv2",c="/business/catalogs/trends",u="/business/catalogs/listings/",d="/business/catalogs/products/",y="/business/catalogs/pins/",f="/business/catalogs/bulk/",g="/business/catalogs/add-items/",m="/business/catalogs/promotions/",A="/business/catalogs/promotions/history",b="/business/catalogs/media-network-catalogs/",h="/business/catalogs/creative-overlays/",_="/business/catalogs/enhancements/",E="/business/catalogs/:catalog_id/data-sources/feed-debugger/",S="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",v="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",w="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",P="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",I="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",O="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",R="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",T="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",x="/business/catalogs/:catalog_id/data-sources/",C="/business/catalogs/:catalog_id/data-sources/?tab=SUPPLEMENTAL_DATASOURCE",N="/business/catalogs/:catalog_id/data-sources/supplemental/choose",M="/business/catalogs/:catalog_id/data-sources/api/detail",L="/business/catalogs/:catalog_id/data-sources/regions/",F="/business/catalogs/:catalog_id/data-sources/stores/",B="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",U="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",k="/business/catalogs/:catalog_id/product-groups/create/",D="/business/catalogs/:catalog_id/product-groups/:product_group_id/",Z="/business/catalogs/:catalog_id/product-groups/bulk/",j="/business/catalogs/:catalog_id/product-groups/",H="/business/website-content-manager/",G="/business/catalogs/:catalog_id/listings/",$="/business/catalogs/:catalog_id/products/",z="/business/catalogs/:catalog_id/diagnostics/",V="/business/catalogs/:catalog_id/diagnosticsv2/",W="/business/catalogs/:catalog_id/trends/",J="/business/catalogs/:catalog_id/pins/",q="/business/catalogs/:catalog_id/bulk/",Y="/business/catalogs/:catalog_id/add-items/",K="/business/catalogs/media-network-catalogs/:mn_catalog_id/detail",X="/business/catalogs/media-network-catalogs/:mn_catalog_id/product-groups/:mn_product_group_id/",Q=[i,x],ee=[s,j],et=[l,z],er=[p,V],eo=[c,B],en=[c,W],ea=[u,G],ei=[d,$],es=[y,J],el=[f,q],ep=[g,Y],ec="/business/catalogs/product-listings/",eu=[ec,"/business/catalogs/:catalog_id/product-listings/"]},821651:function(e,t,r){r.d(t,{r:()=>A,W:()=>m});var o=r(667294),n=r(729434),a=r(821342),i=r(886981),s=r(295317),l=r(121836),p=r(238589),c=r(974705);let u=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,c.Z)(r)]=e[r]:t[(0,c.Z)(r)]=u(e[r]));return t},d={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},y=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var f=r(785893);let{Provider:g,getMaybe:m}=(0,n.Z)("RoleBasedAccessControlContext"),A=({children:e})=>{let t=(0,a.Z)(),r=!!(t.isAuth&&t.isPartner),{state:n,actions:c,receiveProfiles:m}=(e=>{let[t,r]=(0,o.useReducer)(y,d),n=(({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:n,disableProfileChanger:a,headerVisible:i}=r,s=(0,o.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:s,toggleORBACVisibility:(0,o.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!n})},[t,e,n]),toggleDisableProfileChanger:(0,o.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),toggleHeaderVisibility:(0,o.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!i})},[t,e,i])}})({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:i}=t;return(0,o.useEffect)(()=>{let e=(0,p.Nl)().getItem(l.Zo)||!1;e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,o.useEffect)(()=>{let e=(0,p.Nl)().getItem(l.ig)||!1;e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,o.useEffect)(()=>{(0,p.Nl)().setItem(l.ig,i)},[i]),(0,o.useEffect)(()=>{(0,p.Nl)().setItem(l.Zo,a)},[a]),{state:t,actions:n,receiveProfiles:(0,o.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:((e,t)=>{let r=[];for(let o in e)o!==t&&r.push({id:o,...u(e[o])});let o=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of o)n.set(e.id,e);return n})(e,t)})},[r])}})(r),{activeProfile:A,headerVisible:b,profiles:h}=n,_=(0,o.useMemo)(()=>h?Array.from(h.values()):[],[h]),E=(0,s.Z)(_),S=!!t.isAuth&&_.length>0&&E,v=t.isAuth?t.id:"",w=t.isAuth?t.username:"",{changeProfile:P,toggleORBACVisibility:I,toggleDisableProfileChanger:O,toggleHeaderVisibility:R}=c;(0,o.useEffect)(()=>{if(r){if("string"==typeof E)return void P(E);A||P(v)}},[E,v,r,P,A]),(0,o.useEffect)(()=>{r&&(S&&!b&&R(!0),!S&&b&&R(!1))},[R,S,r,b,h]);let{data:T}=(0,i.Z)(r?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),x=T?.profiles,C=(0,o.useMemo)(()=>t&&t.isAuth&&A===t.id?{id:t.id,permissions:["OWNER"],user:{username:w,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:A&&h?h.get(A):void 0,[A,h,t,w]);(0,o.useEffect)(()=>{x&&m(x,v)},[m,x,v]);let N=(0,o.useMemo)(()=>({profiles:_,headerVisible:b,activeProfile:C,changeProfile:P,toggleORBACVisibility:I,toggleDisableProfileChanger:O,toggleHeaderVisibility:R}),[_,b,C,P,I,O,R]);return(0,f.jsx)(g,{value:N,children:e})}},448505:function(e,t,r){r.d(t,{Z:()=>l});var o=r(667294),n=r(675973),a=r(821651),i=r(295317);let s=Object.freeze({}),l=()=>{let{checkExperiment:e}=(0,n.Z)(),t=(0,a.W)(),{activeProfile:r}=t||{},l=(0,i.Z)(t?.profiles||[]),{anyEnabled:p}=e("useorbacroutematcher_in_useorbacactingas");return(0,o.useMemo)(()=>p&&!l?s:r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:s,[p,l,r])}},295317:function(e,t,r){r.d(t,{Z:()=>s});var o=r(312048),n=r(821342),a=r(506662),i=r(169053);let s=e=>{let t=(0,o.TH)(),r=(0,n.Z)(),s=(0,i.S6)(),l=(0,o.bS)("/:username"),p=(0,o.bS)("/:username/*"),c=(l||p)?.params?.username,u=(0,o.bS)("/pin/:id"),d=!!u?.params?.id&&s(u.params.id)?.pinner?.id;if((0,a.ej)(t))return!1;if((0,a.RU)(t)||(0,a.mY)(t))return!0;let y=[...e,...r.isAuth?[{user:{username:r.username},id:r.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:r}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!d&&!!r)&&(t.username===c||d===r)});return!!y&&y.id}},7872:function(e,t,r){r.d(t,{D3:()=>u,DX:()=>p,Fk:()=>o,KY:()=>d,Ms:()=>n,N1:()=>y,_P:()=>l,gJ:()=>a,lJ:()=>s,nl:()=>i,q6:()=>c});let o=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},n=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},a=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,p=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),u=(e,t,r)=>!!(c(e,t,r)||e&&e.isAuth&&t===e.id),d=(e,t,r)=>u(e,t&&t.owner&&t.owner.id||"",r);function y(e,t,r){return u(e,t?t.id:"",r)}},271597:function(e,t,r){r.d(t,{AC:()=>i,FC:()=>c,FP:()=>l,M0:()=>s,SA:()=>d,Xq:()=>u,Y_:()=>a,o2:()=>n,s0:()=>o,z9:()=>p});let o=44,n=40,a=49,i=69,s=236,l=157,p=320,c=213,u=7,d=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},907586:function(e,t,r){r.d(t,{_9:()=>a,o6:()=>o,tg:()=>n});let o=20,n=24,a=20},80245:function(e,t,r){r.d(t,{By:()=>c,IT:()=>p,N6:()=>n,br:()=>a,jq:()=>s,lU:()=>l,tq:()=>i});var o=r(686319);let n=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),a=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),i=e=>({type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}),s=(e,t,r)=>({type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:t,recent_queries_tags:r}}),l=(e,t,r)=>n=>{(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,r),n("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},p=(e,t,r,n,a)=>i=>{r||(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,a),i("PERSONAL"===t?{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}:{type:"CLEAR_RECENT_SEARCH",payload:{query:e}})},c=e=>t=>{t({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}})}},404005:function(e,t,r){r.d(t,{Z:()=>g});var o=r(281098),n=r(667294),a=r(20256),i=r(121836),s=r(588367),l=r(15667),p=r(238589),c=r(351222),u=r(647709),d=r(785893);let y=new a.Ry(1),f=new a.H3([y]);function g({children:e,hideOnScroll:t=!1,fixedHeaderRefHeight:r,paddingY:a=0,hasBorder:y=!1,isTransparentBackground:g=!1}){(0,n.useEffect)(()=>{(0,o.Z)("SearchFixedHeader","/app/www/search/SearchFixedHeader.tsx")},[]);let m=(0,u.ZP)(),{isAuthenticated:A}=(0,l.B)(),b="true"===p.ZP.getItem(i.m5);return(0,d.jsx)(s.default,{hasBorder:y,height:t?r:void 0,hideOnScroll:t,isTransparentBackground:g,overrideTop:"tablet"===m||b?0:(0,c.ZP)(m,A),paddingY:a,zIndex:f,children:e})}},438235:function(e,t,r){r.d(t,{Z:()=>i});var o=r(616550),n=r(312048),a=r(675973);function i(){return((0,a.Z)().checkExperiment("web_react_router_v6").anyEnabled?n.UO:o.UO)()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71948-64fa7d3a2fc5f027.mjs.map